/*! For license information please see main.e0e763f5.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-ts"]=this["webpackJsonpreact-ts"]||[]).push([[0],{293:function(e,t){},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){},300:function(e,t,n){},301:function(e,t,n){},304:function(e,t,n){var r={"./brands.fa.svg":[596,5],"./duotone.fa.svg":[597,6],"./light.fa.svg":[598,7],"./regular.fa.svg":[599,8],"./solid.fa.svg":[600,9],"./thin.fa.svg":[601,10]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id=304,e.exports=o},455:function(e,t){},457:function(e,t){},467:function(e,t){},469:function(e,t){},496:function(e,t){},497:function(e,t){},502:function(e,t){},504:function(e,t){},511:function(e,t){},530:function(e,t){},564:function(e,t,n){},565:function(e,t){},593:function(e,t,n){},594:function(e,t,n){"use strict";n.r(t);n(297),n(298),n(299),n(300),n(301);var r=n(0),o=n(13),a=n(2),c=n(25),i=n(8),u=n(45),s=(n(81),n(34)),l=n.p+"static/media/fa.bundle.d2f28cd4.svg",d=function(){var e=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),{isMounted:e}},v=function(e){var t=d().isMounted,n=Object(r.useState)(e),o=Object(s.a)(n,2),a=o[0],c=o[1];return[a,function(e){t.current&&c(e)}]},b=n(3),f=function(e){return function(){return n(304)("./".concat(e,".fa.svg"))}},j=(f("thin"),f("light"),f("solid"),f("brands"),f("regular"),f("duotone"),function(e){var t=e.fa,n=e.onClick,o=e.className,a=void 0===o?"":o,c=e.style,i=v(),u=Object(s.a)(i,2),d=u[0],f=u[1],j=v(l),O=Object(s.a)(j,2),p=O[0];O[1];return Object(r.useEffect)((function(){d!=="#"+t&&f("#"+t)}),[t]),Object(b.jsx)("svg",{style:c,onClick:n,viewBox:"0 0 10 10",className:"fa-icon ".concat(t," ").concat(a),children:Object(b.jsx)("use",{xlinkHref:p+d})})}),O=n(607),p=n(605),h=!1,g=function(){for(var e="",t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){if("string"===typeof t)return e+=t+" ";e+=Object.entries(t||{}).filter((function(e){return!0===e[1]})).map((function(e){return e[0]})).join(" ")})),e},m=function(e,t){var n=null===t||void 0===t?void 0:t.type,r=setInterval((function(){null!==O.a&&void 0!==O.a&&O.a.push&&(clearInterval(r),O.a.push(Object(b.jsxs)(p.a,{type:n,className:g("rs-custom-toast ".concat((null===t||void 0===t?void 0:t.className)||""," "),{"bg-error":"error"===n,"bg-primary":"info"===n,"bg-success":"success"===n,"bg-yellow-500":"warning"===n}),duration:(null===t||void 0===t?void 0:t.duration)||4500,closable:void 0===(null===t||void 0===t?void 0:t.closable)||(null===t||void 0===t?void 0:t.closable),children:[(null===t||void 0===t?void 0:t.icon)&&Object(b.jsx)(j,{fa:null===t||void 0===t?void 0:t.icon}),e]}),{placement:(null===t||void 0===t?void 0:t.placement)||"bottomEnd"}))}),200)},y=function(e,t){m(e,Object(a.a)({type:"error",icon:"l-xmark"},t||{}))},x=function(e,t){m(e,Object(a.a)({type:"info",icon:"l-info"},t||{}))},w={BASE_URL:"/",SERVER:"<SERVER_ADDRESS>",APP_NAME:"<APP_NAME>",APP_SHORT_NAME:"<APP_SHORT_NAME>",Parse:{appId:"<appID>",serverURL:"<serverURL>",liveQueryServerURL:"<liveQueryServerURL>"}},k={API_SERVER:"".concat(w.SERVER,"/api")},E=Object(a.a)(Object(a.a)({},w),k),S=[{exact:!1,path:["/","/home"],component:Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,620))}))},{path:["*"],exact:!0,component:function(){return Object(b.jsx)(o.c,{to:E.BASE_URL})}}],R=n(80),_=function(){var e=Object(R.b)();return{selector:R.c,dispatch:e}},P=n(156),I=n.n(P),A=function(){var e,t,n=(0,_().selector)((function(e){return e.account})),o=Object(r.useRef)(null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.token);return Object(r.useEffect)((function(){var e;o.current=null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.token}),[null===n||void 0===n?void 0:n.user,null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.token]),Object(a.a)(Object(a.a)({},n),{},{tokenRef:o})},T=function(){var e,t=A().user,n=null===t||void 0===t||null===(e=t.role)||void 0===e?void 0:e.name;return{hasRoles:function(e){return!!n&&("SUPER_ADMIN"===n||e.includes(n))},isRole:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!!(n&&t&&null!==t&&void 0!==t&&t.length)&&(null===t||void 0===t?void 0:t.includes(n))},user:t,role:n}},N=n(290),U=n.n(N),D=n(11),L=Object(D.b)("setLoading"),M=Object(D.b)("setUploadProgress"),F={base:!0,throwError:!1},C=function(e){return Object(a.a)(Object(a.a)({},F),e)},B=function(){var e=Object(u.a)(Object(c.a)().mark((function e(t,n){var r,o,i,u,s,l,d,v,b,f,j,O,p,h,g,m,x,w,k,S,R,_;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(o=n||{}).token,u=void 0===i?null===(r=window)||void 0===r?void 0:r.user_token:i,s=o.body,navigator.onLine){e.next=5;break}throw y(b="You are offline. Please check your internet connection.",{duration:4e3,icon:"l-wifi-slash"}),new Error(b);case 5:if(f=s instanceof FormData,s&&"object"===typeof s&&!f&&(s=JSON.stringify(s)),(j=C(Object(a.a)(Object(a.a)({},n),{},{body:s}))).headers=Object(a.a)(Object(a.a)(Object(a.a)({},j.headers),u?{Authorization:"Bearer "+u}:{}),f?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}),(O=null===j||void 0===j?void 0:j.params)&&(h=(h=Object.entries(O||{}).filter((function(e){return void 0!==e[1]}))).map((function(e){return"".concat(e[0],"=").concat(e[1])})),p="?"+h.join("&")),g=(j.base?E.SERVER:"")+t+(p||""),e.prev=12,f){e.next=28;break}return e.next=16,fetch(g,j);case 16:return l=e.sent,d=null===(m=l)||void 0===m?void 0:m.status,e.prev=18,e.next=21,null===(x=l)||void 0===x?void 0:x.json();case 21:v=e.sent,e.next=26;break;case 24:e.prev=24,e.t0=e.catch(18);case 26:e.next=37;break;case 28:return w=function(e){var t,r=Math.round(100*e.loaded/e.total);null===n||void 0===n||null===(t=n.onUploadProgress)||void 0===t||t.call(n,e,r)},k=Object(a.a)(Object(a.a)({url:g,data:null===j||void 0===j?void 0:j.body},j||{}),{},{onUploadProgress:w}),e.next=32,U.a.request(k);case 32:S=e.sent,R=S.data,_=S.status,v=R,d=_;case 37:if(!(d>=400)){e.next=39;break}throw new Error("Request Error ".concat(d));case 39:e.next=45;break;case 41:if(e.prev=41,e.t1=e.catch(12),null===n||void 0===n||!n.throwError){e.next=45;break}throw e.t1;case 45:return e.abrupt("return",{json:v,response:l});case 46:case"end":return e.stop()}}),e,null,[[12,41],[18,24]])})));return function(t,n){return e.apply(this,arguments)}}(),H=function(e){return function(){var t=Object(u.a)(Object(c.a)().mark((function t(n,r){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(n,Object(a.a)({method:e},r));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};B.get=H("GET"),B.put=H("PUT"),B.post=H("POST"),B.delete=H("DELETE");var J,V,q,z=Object(D.b)("clearClassData"),Y=Object(D.b)("setDisconnected"),Q=Object(D.b)("setLocalData"),G=Object(D.b)("setLiveUpdateStatus"),W=Object(D.b)("setLoadings"),$=Object(D.b)("clearLocalStorage"),K=Object(D.b)("logout"),X=Object(D.b)("setUserToken"),Z=Object(D.c)("login",function(){var e=Object(u.a)(Object(c.a)().mark((function e(t,n){var r,o,a,i,u,s,l,d,v,b,f;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,o=t.password,a=n.rejectWithValue,i=n.dispatch,s={email:r,password:o},/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(r)||(delete s.email,s.username=r),e.prev=4,e.next=7,B.post("/endpoints/login",{body:{item:s}});case 7:if(b=e.sent,f=b.json,(u=f)&&(null===(l=u)||void 0===l||!l.error)){e.next=12;break}return e.abrupt("return",a({error:(null===(d=u)||void 0===d?void 0:d.message)||""}));case 12:if(ee(null===(v=u)||void 0===v?void 0:v.item)){e.next=16;break}return e.next=16,new Promise((function(e){return e(i($({init_loading:!0,refresh_loading:!1})))}));case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(4),e.abrupt("return",a({error:navigator.onLine?"Email and password are invalid":null===e.t0||void 0===e.t0?void 0:e.t0.message}));case 21:return e.abrupt("return",u.item);case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t,n){return e.apply(this,arguments)}}()),ee=function(e){var t,n,r="".concat(E.APP_SHORT_NAME,"-UA"),o=localStorage.getItem(r),a={name:null===e||void 0===e||null===(t=e.role)||void 0===t?void 0:t.name,ID:null===e||void 0===e?void 0:e.ID},c=(n=JSON.stringify(a),I.a.createHash("sha256").update(n).digest("base64")),i=!!o&&c===o;return i||(localStorage.setItem(r,c),localStorage.removeItem("redirect-path-after-auth")),i},te=function(e){var t=e.children,n=e.is,r=e.not,a=T().isRole,c="You do not have permission to access this page.";return null===n||void 0===n||!n.length||null!==n&&void 0!==n&&n.some((function(e){return a(e)}))?null!==r&&void 0!==r&&r.length&&r.some((function(e){return a(e)}))?(x(c),Object(b.jsx)(o.c,{to:"/dashboard/orders"})):Object(b.jsx)(b.Fragment,{children:t}):(x(c),Object(b.jsx)(o.c,{to:"/dashboard/order"}))},ne=n(608),re=function(e){var t=e.className,n=void 0===t?"":t;return Object(b.jsx)(ne.a,{className:"loading-cover "+n,speed:"slow",size:"lg",center:!0})},oe=function(e){var t,n=Object(r.useRef)(!0),a=e.fallback,c=e.base,i=void 0===c?"":c,u=e.defaultRoute,s=e.routes,l=void 0===s?S:s;return!(!n.current||!u)&&(n.current=!1,t=Object(b.jsx)(o.d,{exact:!0,path:i,children:Object(b.jsx)(o.c,{to:i+u})},"default")),Object(b.jsx)(r.Suspense,{fallback:(null===a||void 0===a?void 0:a())||Object(b.jsx)(re,{}),children:Object(b.jsxs)(o.g,{children:[t,l.map((function(e,t){return e.path.map((function(n){var a,c,u=e.guard||r.Fragment;return Object(b.jsx)(o.d,{path:"".concat(i).concat(n),exact:e.exact,children:Object(b.jsx)(u,{children:Object(b.jsx)(te,{is:null===e||void 0===e||null===(a=e.role)||void 0===a?void 0:a.is,not:null===e||void 0===e||null===(c=e.role)||void 0===c?void 0:c.not,children:Object(b.jsx)(e.component,{})})})},t)}))}))]})})},ae=function(){return Object(r.useEffect)((function(){}),[]),Object(b.jsx)(oe,{})},ce=n(36),ie=n.n(ce),ue=(n(564),n(291)),se=n(294),le=n(19),de=function(){"caches"in window&&caches.has("FaIconBundle").then((function(e){return e&&caches.delete("FaIconBundle")}))},ve=function(){de(),"caches"in window&&caches.has("Images").then((function(e){return e&&caches.delete("Images")})),"caches"in window&&caches.has("Fonts").then((function(e){return e&&caches.delete("Fonts")}))},be=Object(D.d)({error:"",loading:!1,loggedIn:!1,user:{ID:"",name:"",token:"",email:"",username:"",SYSTEM_USER_ID:""}},(J={},Object(i.a)(J,K.type,(function(e,t){return de(),window.user_token=void 0,{user:null,loading:!1,loggedIn:!1,error:""}})),Object(i.a)(J,Z.pending.type,(function(e,t){t.payload;return window.user_token=void 0,{user:null,loading:!0,loggedIn:!1,error:""}})),Object(i.a)(J,Z.rejected.type,(function(e,t){var n=t.payload;return window.user_token=void 0,{user:null,loading:!1,loggedIn:!1,error:n.error}})),Object(i.a)(J,Z.fulfilled.type,(function(e,t){var n=t.payload;return window.user_token=n.token,{user:n,loggedIn:!0,loading:!1,error:""}})),Object(i.a)(J,X.type,(function(e,t){var n=t.payload;return window.user_token=n,Object(a.a)(Object(a.a)({},e),{},{user:Object(a.a)(Object(a.a)({},null===e||void 0===e?void 0:e.user),{},{token:n})})})),J)),fe=n(109),je=n(159),Oe=n.n(je),pe=Object(D.d)({isLoading:!1,uploadProgress:0},(V={},Object(i.a)(V,M.type,(function(e,t){var n=t.payload;return Object(a.a)(Object(a.a)({},e),{},{uploadProgress:n})})),Object(i.a)(V,L.type,(function(e,t){var n=t.payload;return Object(a.a)(Object(a.a)({},e),{},{isLoading:n})})),V)),he=n(160),ge=n(295),me=n.n(ge),ye=n(161),xe={loadings:{init:!0},disconnected:!1},we=Object(D.d)(xe,(q={},Object(i.a)(q,G.type,(function(e,t){var n=t.payload;return Object(a.a)(Object(a.a)({},e),{},{liveUpdateStatus:n})})),Object(i.a)(q,Y.type,(function(e,t){var n=t.payload;return Object(a.a)(Object(a.a)({},e),{},{disconnected:n})})),Object(i.a)(q,W.type,(function(e,t){var n=t.payload;return Object(a.a)(Object(a.a)({},e||{}),{},{loadings:Object(a.a)(Object(a.a)({},null===e||void 0===e?void 0:e.loadings),n||{})})})),Object(i.a)(q,$.type,(function(e,t){var n=t.payload,r=n.init_loading,o=n.refresh_loading;return Object(a.a)(Object(a.a)({},xe),{},{disconnected:null===e||void 0===e?void 0:e.disconnected,liveUpdateStatus:null===e||void 0===e?void 0:e.liveUpdateStatus,loadings:{init:r,refresh:o}})})),Object(i.a)(q,z.type,(function(e,t){var n=t.payload;ve();var r=ye.OBJ.clone(e);return null===r||void 0===r||delete r[n],r})),Object(i.a)(q,Q.type,(function(e,t){var n,r=t.payload,o=r.class_name,c=r.data,u=void 0===c?[]:c,s=r.deleted,l=void 0===s?[]:s,d=r.partialUpdate,v=r.last_update;d=d||!(null===l||void 0===l||!l.length);var b="".concat(o,"_ID"),f=v||me()().utc().toISOString();u=d?ke((null===e||void 0===e?void 0:e[o])||{},u,l||[],b):null===(n=u)||void 0===n?void 0:n.reduce((function(e,t){return(e[null===t||void 0===t?void 0:t[b]]=t)&&e}),{});var j={last_update:Object(a.a)(Object(a.a)({},(null===e||void 0===e?void 0:e.last_update)||{}),{},Object(i.a)({},o,f))};return Object(a.a)(Object(a.a)({},e||{}),{},Object(i.a)({},o,u),j||{})})),q)),ke=function(e,t,n,r){var o,a=ye.OBJ.clone(e),c=Object(he.a)(n);try{for(c.s();!(o=c.n()).done;){var i=o.value;i&&(null===a||void 0===a||delete a[i])}}catch(d){c.e(d)}finally{c.f()}var u,s=Object(he.a)(t||[]);try{for(s.s();!(u=s.n()).done;){var l=u.value;null!==l&&void 0!==l&&l[r]&&(a[null===l||void 0===l?void 0:l[r]]=l)}}catch(d){s.e(d)}finally{s.f()}return a},Ee=we,Se=n(296),Re=n.n(Se)()(),_e=Object(le.b)({dashboard:pe,account:Object(fe.persistReducer)({storage:Oe.a,key:"account",blacklist:["error","loading"],keyPrefix:"".concat(E.APP_SHORT_NAME,"-"),transforms:[Re]},be),localStorage:Object(fe.persistReducer)({storage:Oe.a,key:"storage",keyPrefix:"".concat(E.APP_SHORT_NAME,"-"),transforms:[Re]},Ee)}),Pe=n(104),Ie={blacklist:["persist/PERSIST","persist/REHYDRATE"]},Ae=Object(D.a)({devTools:h,reducer:_e,middleware:function(e){var t=e({serializableCheck:!1});return t.push(Object(ue.createStateSyncMiddleware)(Ie)),t}}),Te=function(e){var t=e.children;return Object(b.jsx)(R.a,{store:Ae,children:Object(b.jsx)(se.a,{persistor:Object(Pe.a)(Ae),children:t})})},Ne=function(e){e&&e instanceof Function&&n.e(11).then(n.bind(null,619)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),a(e),c(e)}))},Ue=n(44),De=n(162),Le=n(163),Me=n(274),Fe=n(275),Ce=(n(593),n(606)),Be=function(e){Object(Me.a)(n,e);var t=Object(Fe.a)(n);function n(){var e;Object(De.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={hasError:!1,remainTime:10},e}return Object(Le.a)(n,[{key:"componentDidCatch",value:function(e,t){var n=this;console.error(e,t);var r=setInterval((function(){n.setState((function(e){return 0===e.remainTime?(window.location.href="/",clearInterval(r)):Object(a.a)(Object(a.a)({},e),{},{remainTime:e.remainTime-1})}))}),1e3)}},{key:"render",value:function(){return this.state.hasError?Object(b.jsxs)("div",{className:"error-boundary-layout",children:[Object(b.jsx)(j,{fa:"s-exclamation",className:"w-1/3"}),Object(b.jsx)("h1",{children:"Something went wrong !"}),Object(b.jsxs)(Ce.a,{href:"/",className:"go-to-home-btn",children:["Back to home",0!==this.state.remainTime?" (".concat(this.state.remainTime,"s)"):""]}),Object(b.jsx)(Ce.a,{className:"report-btn",href:"mailto:amir@auto-hq.com",children:"Report to AutoHQ"})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.Component),He=Object(b.jsx)(Be,{children:Object(b.jsx)(Ue.BrowserRouter,{children:Object(b.jsx)(Te,{children:Object(b.jsx)(ae,{})})})});ie.a.render(He,document.querySelector("#root")),Ne()}},[[594,1,2]]]);
//# sourceMappingURL=main.e0e763f5.chunk.js.map